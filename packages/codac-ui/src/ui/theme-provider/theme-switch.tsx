import { useState, useEffect } from "react";
import { useTheme } from ".";

export const ThemeSwitch = () => {
  const [mounted, setMounted] = useState(false);
  const { theme, setTheme } = useTheme();

  // useEffect only runs on the client, so now we can safely show the UI
  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) {
    return null;
  }

  return theme === "dark" ? (
    <DarkLogo setTheme={setTheme} />
  ) : (
    <LightLogo setTheme={setTheme} />
  );
};

export default ThemeSwitch;

const LightLogo = ({ setTheme }: { setTheme: (theme: string) => void }) => {
  return (
    <svg
      className="fill-primary"
      // fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 612 792"
      width="30px"
      height="30px"
      onClick={() => setTheme("dark")}
    >
      <path
        d="M562.822,410.125c0,0,11.876-61.122-67.739-140.737c0,0,18.621-69.599-23.884-140.931c0,0,40.834-6.741,49.183-62.6
	c0,0-32.232,11.814-84.816,8.475c0,0-81.348-6.807-127.191-6.807c-45.841,0-132.006,6.677-132.006,6.677
	c-52.583,3.339-84.751-8.475-84.751-8.475c8.475,55.988,49.118,62.729,49.118,62.729c-42.44,71.333-23.692,140.803-23.692,140.803
	C37.3,349.003,49.176,409.998,49.176,409.998c10.21-25.36,25.363-37.304,25.363-37.304
	c-49.183,132.328,70.496,257.913,70.496,257.913c-13.098-21.188,81.799,90.785,172.457,95.665c0,0,109.406-40.835,149.471-95.665
	c0,0,119.549-125.458,70.431-257.783C537.394,372.824,552.676,384.638,562.822,410.125z M230.043,272.599
	c-29.792,0-53.933-24.206-53.933-53.933c0-29.791,24.141-53.933,53.933-53.933c29.791,0,53.933,24.142,53.933,53.933
	C283.976,248.393,259.834,272.599,230.043,272.599z M390.622,273.241c-29.856,0-54.063-24.206-54.063-53.933
	c0-29.791,24.206-54.061,54.063-54.061c29.726,0,53.867,24.27,53.867,54.061C444.489,249.035,420.348,273.241,390.622,273.241z"
      />
    </svg>
  );
};
const DarkLogo = ({ setTheme }: { setTheme: (theme: string) => void }) => {
  return (
    <svg
      className="fill-secondary"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 612 792"
      width="30px"
      height="30px"
      onClick={() => setTheme("light")}
    >
      <path
        d="M562.822,410.125c0,0,11.876-61.122-67.739-140.737c0,0,18.621-69.599-23.884-140.931c0,0,40.834-6.741,49.183-62.6
	c0,0-32.232,11.814-84.816,8.475c0,0-81.348-6.807-127.191-6.807c-45.841,0-132.006,6.677-132.006,6.677
	c-52.583,3.339-84.751-8.475-84.751-8.475c8.475,55.988,49.118,62.729,49.118,62.729c-42.44,71.333-23.692,140.803-23.692,140.803
	C37.3,349.003,49.176,409.998,49.176,409.998c10.21-25.36,25.363-37.304,25.363-37.304
	c-49.183,132.328,70.496,257.913,70.496,257.913c-13.098-21.188,81.799,90.785,172.457,95.665c0,0,109.406-40.835,149.471-95.665
	c0,0,119.549-125.458,70.431-257.783C537.394,372.824,552.676,384.638,562.822,410.125z M230.043,272.599
	c-29.792,0-53.933-24.206-53.933-53.933c0-29.791,24.141-53.933,53.933-53.933c29.791,0,53.933,24.142,53.933,53.933
	C283.976,248.393,259.834,272.599,230.043,272.599z M390.622,273.241c-29.856,0-54.063-24.206-54.063-53.933
	c0-29.791,24.206-54.061,54.063-54.061c29.726,0,53.867,24.27,53.867,54.061C444.489,249.035,420.348,273.241,390.622,273.241z"
      />
    </svg>
  );
};
